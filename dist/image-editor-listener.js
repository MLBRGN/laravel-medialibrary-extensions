var d=e=>{throw TypeError(e)};var r=(e,t,s)=>t.has(e)||d("Cannot "+s);var o=(e,t,s)=>(r(e,t,"read from private field"),s?s.call(e):t.get(e)),l=(e,t,s)=>t.has(e)?d("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),g=(e,t,s,i)=>(r(e,t,"write to private field"),i?i.call(e,s):t.set(e,s),s);var a;class c{constructor(){l(this,a);g(this,a,document.createElement("div"))}register(t,s){o(this,a).addEventListener(t,s)}remove(t,s){o(this,a).removeEventListener(t,s)}fire(t,s={}){o(this,a).dispatchEvent(new CustomEvent(t,{detail:s}))}}a=new WeakMap;const n=new c;document.addEventListener("imageEditorReady",e=>{console.log("Image editor is ready:",e.detail.instance);const t=e.detail.instance,s=t.getAttribute("data-initiator-id"),i=t.getAttribute("data-medium-name"),u=t.getAttribute("data-medium-path");t.setImage(i,u,s),t.setConfiguration({debug:!1,rotateDegreesStep:90,freeSelectDisabled:!0,freeRotateDisabled:!0,freeResizeDisabled:!0,filtersDisabled:!0,selectionAspectRatios:["16:9","4:3"],selectionAspectRatio:"16:9"})});n.register("onImageSave",e=>{const t=document.getElementById(e.detail.id);console.log("modal",t),console.log("dispatching",e.detail),t.dispatchEvent(new CustomEvent("onImageUpdated",{bubbles:!0,composed:!0,detail:e.detail})),console.log("onImageSave using event bus",e.detail)});n.register("onCanvasStatusMessage",e=>{console.log("onCanvasStatusMessage using event bus",e.detail)});n.register("onCloseImageEditor",e=>{console.log("onCloseImageEditor using event bus",e.detail)});export{n as b};

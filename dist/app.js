document.addEventListener("DOMContentLoaded",()=>{const i=document.querySelectorAll(".media-preview-modal"),a={};function d(){Object.values(a).forEach(e=>e.stopVideo&&e.stopVideo())}function u(e){a[e]&&a[e].playVideo()}i.forEach(e=>{const r=e.querySelector(".carousel");let s=e.hasAttribute("autoplay");function n(t){const o=t.getAttribute("data-youtube-video-id"),l=t.querySelector("lite-youtube").shadowRoot.querySelector("iframe");a[o]=new YT.Player(l,{events:{onReady:()=>{s&&u(o)}}})}e.addEventListener("liteYoutubeIframeLoaded",t=>{const o=t.target.closest("[data-youtube-video]");o&&n(o)}),e.addEventListener("hidden.bs.modal",()=>{d()}),r.addEventListener("slide.bs.carousel",t=>{if(d(),e.hasAttribute("autoplay")&&t.relatedTarget.hasAttribute("data-youtube-video")){let o=t.relatedTarget.getAttribute("data-youtube-video-id");u(o)}})})});

function k(t,n){const v=new CustomEvent(t,{bubbles:!0,detail:{element:n}});n.dispatchEvent(v)}function M(t){const n='a[href], button, textarea, input, select, [tabindex]:not([tabindex="-1"])',v=()=>Array.from(t.querySelectorAll(n)).filter(l=>!l.hasAttribute("disabled")&&l.offsetParent!==null),u=l=>{const h=v();console.log(h);const e=h[0],o=h[h.length-1];if(l.key==="Tab"){if(h.length===0)return;l.shiftKey?document.activeElement===e&&(l.preventDefault(),o.focus()):document.activeElement===o&&(l.preventDefault(),e.focus())}};t.addEventListener("keydown",u),t._trapFocusHandler=u;const y=v();y.length&&y[0].focus()}function x(t){t._trapFocusHandler&&(t.removeEventListener("keydown",t._trapFocusHandler),delete t._trapFocusHandler)}const T=new Map;function w(t){return T.get(t)}document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("[data-carousel]").forEach(t=>{const n=t.querySelectorAll(".media-carousel-item"),v=t.querySelectorAll(".media-carousel-indicators button"),u=t.querySelector('[data-slide="prev"]'),y=t.querySelector('[data-slide="next"]'),l=t.getAttribute("data-carousel-ride")==="true",h=Number(t.getAttribute("data-carousel-ride-interval")??"5000"),e=t.getAttribute("data-carousel-ride-only-after-interaction")==="true";let o=0,s=!1,i=null,r=0,d=0,g=0,L=0;const I=50,C=(a,c="right")=>{n.forEach(p=>{p.classList.remove("active","slide-in-from-left","slide-in-from-right","slide-out-to-left","slide-out-to-right"),p.style.zIndex=0});const E=n[o],A=n[a];t.getAttribute("data-carousel-effect")==="slide"&&(t.classList.contains("temp-no-animation")||t.classList.contains("no-animation")||(c==="right"?(A.classList.add("slide-in-from-right"),E.classList.add("slide-out-to-left")):(A.classList.add("slide-in-from-left"),E.classList.add("slide-out-to-right")),A.offsetWidth)),E.classList.remove("active"),A.classList.add("active"),v.forEach((p,P)=>p.classList.toggle("active",P===a)),o=a,k("carouselSlided",t)},f=(a,c=!1)=>{if(a===o)return;const E=(a+n.length)%n.length,p=(E-o+n.length)%n.length>n.length/2?"left":"right";c&&t.classList.add("temp-no-animation"),C(E,p),c&&setTimeout(()=>{t.classList.remove("temp-no-animation")},1e3)},D=()=>{const c=d-r;Math.abs(c)>40&&Math.abs(c)>Math.abs(L-g)&&(c<0?f((o+1)%n.length):f((o-1+n.length)%n.length),m())},b=()=>{S(),i=setInterval(()=>{f((o+1)%n.length)},h)},S=()=>{i!==null&&(clearInterval(i),i=null)},m=()=>{s||(s=!0,l&&e&&b()),l&&!e&&b()};v.forEach((a,c)=>{a.addEventListener("click",()=>{f(c),m()})}),u==null||u.addEventListener("click",()=>{f((o-1+n.length)%n.length),m()}),y==null||y.addEventListener("click",()=>{f((o+1)%n.length),m()}),t.addEventListener("mouseenter",S),t.addEventListener("mouseleave",()=>{l&&(!e||s)&&b()}),t.addEventListener("focusin",S),t.addEventListener("focusout",()=>{l&&(!e||s)&&b()}),t.addEventListener("keydown",a=>{a.key==="ArrowLeft"?(a.preventDefault(),f((o-1+n.length)%n.length),m()):a.key==="ArrowRight"&&(a.preventDefault(),f((o+1)%n.length),m())}),t.addEventListener("touchstart",a=>{r=a.changedTouches[0].screenX,g=a.changedTouches[0].screenY},{passive:!0}),t.addEventListener("touchend",a=>{d=a.changedTouches[0].screenX,L=a.changedTouches[0].screenY,Math.abs(L-g)<I&&D()},{passive:!0}),n.length>1&&l&&!e&&b();const q={goToSlide:(a,c=!1)=>f(a,c),getCurrentIndex:()=>o,goToNextSlide:()=>f((o+1)%n.length),goToPreviousSlide:()=>f((o-1+n.length)%n.length),pause:S,resume:b};T.set(t,q),t._carouselController=q})});document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelectorAll(".media-modal"),n={},v=(e,o)=>{const s=document.getElementById(e);if(!s){console.log("modal not found",e);return}s.classList.add("active"),s.setAttribute("aria-hidden","false"),document.body.style.overflow="hidden",M(s);const i=s.querySelector("[data-carousel]"),r=w(i);r&&o!==void 0&&o!==null&&r.goToSlide(parseInt(o),!0),k("modalOpened",s)},u=e=>{e.classList.remove("active"),e.setAttribute("aria-hidden","true"),document.body.style.overflow="",x(e),k("modalClosed",e)};document.querySelectorAll("[data-modal-close]").forEach(e=>{e.addEventListener("click",()=>{const o=e.closest(".media-modal");o&&u(o)})}),document.querySelectorAll(".media-modal").forEach(e=>{e.addEventListener("click",o=>{o.target===e&&u(e)})}),document.querySelectorAll("[data-modal-trigger]").forEach(e=>{e.addEventListener("click",o=>{let s=0;e.hasAttribute("data-slide-to")&&(s=e.getAttribute("data-slide-to"));const i=e.getAttribute("data-modal-trigger");v(i,s)})}),document.addEventListener("keydown",e=>{e.key==="Escape"&&document.querySelectorAll(".media-modal.active").forEach(o=>{u(o)})}),t.forEach(e=>{const o=e.querySelector("[data-carousel]");e.hasAttribute("data-video-autoplay");function s(i){const r=i.getAttribute("data-youtube-video-id"),d=i.querySelector("lite-youtube").shadowRoot.querySelector("iframe");n[r]=new YT.Player(d,{events:{onReady:()=>{}}})}e.addEventListener("liteYoutubeIframeLoaded",i=>{const r=i.target.closest("[data-youtube-video-id]");r&&s(r)}),e.addEventListener("modalOpened",i=>{if(!e.hasAttribute("data-video-autoplay"))return;const r=e.querySelector(".media-carousel-item.active");if(!r)return;const d=r.querySelector(".media-video-container");if(!d||!d.hasAttribute("data-youtube-video-id"))return;const g=d.getAttribute("data-youtube-video-id");h(g)}),e.addEventListener("modalClosed",()=>{y()}),e.addEventListener("keydown",i=>{if(!e.classList.contains("active"))return;const r=e.querySelector("[data-carousel]");if(!r)return;const d=w(r);if(!d)return;const g=r.contains(i.target);i.key==="Escape"&&(document.querySelectorAll(".media-modal.active").forEach(L=>{u(L)}),i.stopPropagation(),i.preventDefault()),!((i.key==="ArrowLeft"||i.key==="ArrowRight")&&g)&&(i.key==="ArrowLeft"?(i.preventDefault(),i.stopPropagation(),d.goToPreviousSlide()):i.key==="ArrowRight"&&(i.preventDefault(),i.stopPropagation(),d.goToNextSlide()))}),o.addEventListener("carouselSlided",i=>{if(l(),e.hasAttribute("data-video-autoplay")){const r=o.querySelector(".media-carousel-item.active");if(!r)return;const d=r.querySelector(".media-video-container");if(d&&d.hasAttribute("data-youtube-video-id")){const g=d.getAttribute("data-youtube-video-id");h(g)}}})});function y(){Object.values(n).forEach(e=>{e.stopVideo()})}function l(){Object.values(n).forEach(e=>{e.pauseVideo()})}function h(e){let o=n[e];o&&o.playVideo()}});

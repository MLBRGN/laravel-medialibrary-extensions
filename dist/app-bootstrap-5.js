import"./image-editor-listener.js";import"./ImageEditor.js";document.addEventListener("DOMContentLoaded",()=>{const u=document.querySelectorAll(".media-modal"),i={};u.forEach(t=>{const r=t.querySelector(".media-carousel");let l=t.hasAttribute("data-video-autoplay");function y(e){const o=e.getAttribute("data-youtube-video-id"),a=e.querySelector("lite-youtube").shadowRoot.querySelector("iframe");i[o]=new YT.Player(a,{events:{onReady:()=>{l&&n(o)}}})}t.addEventListener("liteYoutubeIframeLoaded",e=>{const o=e.target.closest("[data-youtube-video-id]");o&&y(o)}),t.addEventListener("hidden.bs.modal",()=>{d()}),r.addEventListener("slide.bs.carousel",e=>{if(c(),t.hasAttribute("data-video-autoplay")){const o=e.relatedTarget.querySelector(".media-video-container");if(o&&o.hasAttribute("data-youtube-video-id")){let a=o.getAttribute("data-youtube-video-id");n(a)}}}),t.addEventListener("keydown",e=>{if(!t.classList.contains("show"))return;const o=t.querySelector(".media-carousel");if(!r)return;const a=bootstrap.Carousel.getInstance(o);if(!a)return;const s=r.contains(e.target);console.log(s),!((e.key==="ArrowLeft"||e.key==="ArrowRight")&&s)&&(e.key==="ArrowLeft"?(e.preventDefault(),e.stopPropagation(),a.prev()):e.key==="ArrowRight"&&(e.preventDefault(),e.stopPropagation(),a.next()))})});function d(){Object.values(i).forEach(t=>{t.stopVideo()})}function c(){Object.values(i).forEach(t=>{t.pauseVideo()})}function n(t){let r=i[t];r&&r.playVideo()}});
